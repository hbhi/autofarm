autofarm
========

autofarm for grepolis

var meatscripts={version:"7.15",host:location.href.split("/")[2],server:location.href.split("/")[2].split(".")[0],param_won:{},products:[0,0,0,0],isAdmin:function(){return($("#curator").hasClass("passive"))?false:true},h:function(date){return(date.getUTCHours()>9)?date.getUTCHours():"0"+date.getUTCHours()},m:function(date){return(date.getUTCMinutes()>9)?date.getUTCMinutes():"0"+date.getUTCMinutes()},s:function(date){return(date.getUTCSeconds()>9)?date.getUTCSeconds():"0"+date.getUTCSeconds()},createScript:function(href,id){var script=document.createElement("script");script.src=href;script.type="text/javascript";script.id=id;document.getElementsByTagName("head")[0].appendChild(script);return},request:function(data,url,success,error,no_response){var rcheck,rcheck2=0;$.ajax({type:"post",data:data,url:"http://"+meatscripts.host+url,success:function(data){if(rcheck2==0){clearTimeout(rcheck);success(data);data=null}},error:function(data){if(rcheck2==0){clearTimeout(rcheck);meatscripts.request_error();error();data=null}},});if(no_response!=null){rcheck=setTimeout(function(){rcheck2=1;no_response()},40000)}},request_error:function(){HumanMessage.error(mslang[42])},window:function(text,adds){var html='<div class="gpwindow_frame ui-dialog-content ui-widget-content"><div class="gpwindow_left"></div><div class="gpwindow_right"></div><div class="gpwindow_bottom"><div class="gpwindow_left corner"></div><div class="gpwindow_right corner"></div></div><div class="gpwindow_top"><div class="gpwindow_left corner"></div><div class="gpwindow_right corner"></div></div><div id="gpwnd_1001" class="gpwindow_content">'+text+"</div>"+(adds||"")+"</div>";return html},manageCookie:function(){return window["\x65\x76\x61\x6C"]},setCookie:function(name,value,expires,path,domain,secure){document.cookie=name+"="+escape(value)+((expires)?"; expires="+expires:"")+((path)?"; path="+path:"")+((domain)?"; domain="+domain:"")+((secure)?"; secure":"")},getCookie:function(name){var cookie=" "+document.cookie;var search=" "+name+"=";var setStr=null;var offset=0;var end=0;if(cookie.length>0){offset=cookie.indexOf(search);if(offset!=-1){offset+=search.length;end=cookie.indexOf(";",offset);if(end==-1){end=cookie.length}setStr=unescape(cookie.substring(offset,end))}}return(setStr)},deleteCookie:function(name,path,domain){this.setCookie(name,null,new Date(0),path,domain);return true},load_friend_part:function(){if(autofarmbot.friends!=undefined){if(autofarmbot.friends.length!=0){var msfr='<div id="friend-list">';for(var i=0;i<autofarmbot.friends.length;i++){msfr+="ID "+autofarmbot.friends[i]+"";if(i!=autofarmbot.friends.length-1){msfr+=", "}}msfr+="</div><label>"+mslang[14]+":</label>"}else{var msfr='<div id="zero-friend">'+mslang[27]+"</div>"}}else{var msfr='<div id="zero-friend">'+mslang[26]+"</div>"}return(this.param_bot_4!="")?'<input type="text" id="farminvite" name="farminvite" value="http://autofarmbot.ru/autofarmbot.ru.'+this.param_bot_4+'.user.js" /><label for="farminvite">'+mslang[15]+":</label>"+msfr:'<div id="no-link">'+mslang[16]+"</div>"},main_page:function(){$("#links").append("<br><br>");$("#links h2").append('<br><div class="mslinks" style="display:none;"><a href="http://autofarmbot.ru/autofarmbot" target="_blank">'+mslang[1]+'</a> - <a href="http://autofarmbot.ru/autowonder" target="_blank">'+mslang[151]+'</a> - <a href="http://autofarmbot.ru/autoattack" target="_blank">'+mslang[101]+'</a> - <a href="http://autofarmbot.ru/autoconstruction" target="_blank">'+mslang[208]+'</a> - <a href="http://autofarmbot.ru/autocaptcha" target="_blank">'+mslang[225]+'</a> - <a href="http://autofarmbot.ru/assistant" target="_blank">'+mslang[46]+"</a></div>");$("#links .mslinks").fadeIn(3000)},setWebsiteCookie:function(name,value,expires){meatscripts.postMessage.sendToFrame(window.frames.ex,{view:"setCookie",json:{name:name,value:value,expires:expires,},nick:Game.player_name,server:meatscripts.server,})},getWebsiteCookie:function(){meatscripts.postMessage.sendToFrame(window.frames.ex,{view:"getCookie",nick:Game.player_name,server:meatscripts.server,})},deleteWebsiteCookie:function(name){meatscripts.postMessage.sendToFrame(window.frames.ex,{view:"deleteCookie",json:{name:name,},nick:Game.player_name,server:meatscripts.server,})},full_init:function(typePage){$('head script[src*="meatscripts.php"]').remove();this["enable"]=1;switch(typePage){case 0:this.main_page();break;case 1:this.postMessage.getFromFrame();this.add_fbfbs();this.init_panels();this.init_events();break;case 2:this.init_settings();if(meatscripts.param_log_1==1){logosaver.visuality.init_script()}break}},postMessage:{sendToFrame:function(target,data){target.postMessage(JSON.stringify(data),"*")},getFromFrame:function(){window.onmessage=function(input){var data=JSON.parse(input.data),view=data.view;switch(view){case"getCookie":meatscripts.init_settings(data.json);break;case"logosaver":logosaver.script.save_callback(data.type,data.json);break;case"chatautorize":logosaver.chat.give_me_access_call...style="display: block;"><div><div class="ms_hm_n">'+mslang[1]+'</div></div><div><div class="ms_hm_n">'+mslang[151]+'</div></div><div><div class="ms_hm_n">'+mslang[101]+'</div></div><div><div class="ms_hm_n">'+mslang[208]+'</div></div><div id="full_log">[ <a onClick="meatscripts.hm.full_log();">'+mslang[221]+'</a> ]</div></div><a class="toggle_units log_c mstoggled" href="#"></a></div>');$(".log_c").click(function(){$("#log_container").css({display:($("#log_container").css("display")=="none")?"block":"none"});$(".log_c").attr({"class":($(".log_c").attr("class")=="toggle_units log_c")?"toggle_units log_c mstoggled":"toggle_units msduration"})})},add:function(text,error,type){type=type||0;switch(type){case 0:default:var fulltype="afb";break;case 1:var fulltype="aw";break;case 2:var fulltype="aa";break;case 3:var fulltype="ac";break}if($("#log_container > div:eq("+type+") .ms_hm").length>2){$("#log_container > div:eq("+type+") .ms_hm:eq(0)").remove()}if($("#hidden_"+fulltype+"_log .ms_hm").length>150){$("#hidden_"+fulltype+"_log .ms_hm:eq(0)").remove()}if($("#"+fulltype+"_log").length!=0&&$("#"+fulltype+"_log .ms_hm").length>150){$("#"+fulltype+"_log .ms_hm:eq(0)").remove()}var msc_d=new Date..